Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
#0 building with "desktop-linux" instance using docker driver

#1 [ebi internal] load build definition from Dockerfile
#1 transferring dockerfile: 606B done
#1 DONE 0.0s

#2 [idr internal] load build definition from Dockerfile
#2 transferring dockerfile: 354B done
#2 DONE 0.0s

#3 [flyem internal] load build definition from Dockerfile
#3 transferring dockerfile: 511B done
#3 DONE 0.0s

#4 [flyem internal] load metadata for docker.io/library/python:3.9-slim
#4 ...

#5 [idr internal] load metadata for docker.io/library/python:3.10-slim
#5 DONE 0.5s

#6 [ebi] resolve image config for docker-image://docker.io/docker/dockerfile:1
#6 DONE 0.5s

#7 [ebi] docker-image://docker.io/docker/dockerfile:1@sha256:9857836c9ee4268391bb5b09f9f157f3c91bb15821bb77969642813b0d00518d
#7 CACHED

#8 [idr internal] load .dockerignore
#8 transferring context: 2B done
#8 DONE 0.0s

#9 [idr 1/6] FROM docker.io/library/python:3.10-slim@sha256:2ee0fb8794bf82af1b2db168ada5869b4c27d17720dd3b155b56c111fb4a38ae
#9 DONE 0.0s

#10 [idr internal] load build context
#10 transferring context: 215B done
#10 DONE 0.0s

#11 [idr 3/6] WORKDIR /app
#11 CACHED

#12 [idr 5/6] RUN pip install --no-cache-dir -r requirements.txt
#12 CACHED

#13 [idr 2/6] RUN apt-get update && apt-get install -y     build-essential     libglib2.0-0     && rm -rf /var/lib/apt/lists/*
#13 CACHED

#14 [idr 4/6] COPY requirements.txt .
#14 CACHED

#15 [idr 6/6] COPY . .
#15 CACHED

#16 [idr] exporting to image
#16 exporting layers done
#16 writing image sha256:f466585221350fbe4436170d4692f5ca93543a7b6b4c16f0b11e404d3e44948b done
#16 naming to docker.io/library/electron-microscopy-ingest-idr done
#16 DONE 0.0s

#4 [flyem internal] load metadata for docker.io/library/python:3.9-slim
#4 DONE 0.6s

#17 [flyem internal] load .dockerignore
#17 transferring context: 2B done
#17 DONE 0.0s

#18 [flyem 1/7] FROM docker.io/library/python:3.9-slim@sha256:657a140aae5f8eb61c69c3df950fade52f1a7924f88612071acccb863a9efe0f
#18 DONE 0.0s

#19 [idr] resolving provenance for metadata file
#19 DONE 0.0s

#20 [flyem internal] load build context
#20 transferring context: 64B done
#20 DONE 0.0s

#21 [flyem 5/7] WORKDIR /opt/code
#21 CACHED

#22 [flyem 4/7] RUN pip install --no-cache-dir -r /opt/requirements.txt
#22 CACHED

#23 [flyem 3/7] COPY requirements.txt /opt/requirements.txt
#23 CACHED

#24 [flyem 6/7] COPY main.py /opt/code/main.py
#24 CACHED

#25 [flyem 2/7] RUN apt-get update  && apt-get install -y --no-install-recommends         build-essential         git  && rm -rf /var/lib/apt/lists/*
#25 CACHED

#26 [flyem 7/7] RUN mkdir /opt/code/dvid_crops
#26 CACHED

#27 [flyem] exporting to image
#27 exporting layers done
#27 writing image sha256:3ff86b380be44c501e66f8257052d765d0f71daae589693e7c8bc00e9a51a5f2 done
#27 naming to docker.io/library/electron-microscopy-ingest-flyem done
#27 DONE 0.0s

#28 [flyem] resolving provenance for metadata file
#28 DONE 0.0s

#5 [ebi internal] load metadata for docker.io/library/python:3.10-slim
#5 DONE 0.6s

#29 [ebi internal] load .dockerignore
#29 transferring context: 2B done
#29 DONE 0.0s

#9 [ebi 1/7] FROM docker.io/library/python:3.10-slim@sha256:2ee0fb8794bf82af1b2db168ada5869b4c27d17720dd3b155b56c111fb4a38ae
#9 DONE 0.0s

#30 [ebi internal] load build context
#30 transferring context: 156B done
#30 DONE 0.0s

#31 [ebi 2/7] WORKDIR /app
#31 CACHED

#32 [ebi 5/7] COPY requirements.txt .
#32 CACHED

#33 [ebi 3/7] RUN apt-get update && apt-get install -y git && rm -rf /var/lib/apt/lists/*
#33 CACHED

#34 [ebi 6/7] RUN pip install --no-cache-dir -r requirements.txt
#34 CACHED

#35 [ebi 4/7] RUN git clone --branch v1.5 https://github.com/piraynal/pyDM3reader.git /tmp/pyDM3reader     && pip install /tmp/pyDM3reader     && rm -rf /tmp/pyDM3reader
#35 CACHED

#36 [ebi 7/7] COPY main.py .
#36 CACHED

#37 [ebi] exporting to image
#37 exporting layers done
#37 writing image sha256:e25ef581f950024b95881368bb501d4e03c117d51877c780f4b1f6887c345373 done
#37 naming to docker.io/library/electron-microscopy-ingest-ebi
#37 naming to docker.io/library/electron-microscopy-ingest-ebi done
#37 DONE 0.0s

#38 [ebi] resolving provenance for metadata file
#38 DONE 0.0s
 ebi  Built
 flyem  Built
 idr  Built
 Container ebi-ingest  Created
 Container flyem-ingest  Created
 Container idr-ingest  Created
Attaching to ebi-ingest, flyem-ingest, idr-ingest
ebi-ingest    | 📥 Retrieved metadata for 11759
idr-ingest    | 📥 FTP downloading /pub/databases/IDR/idr0086-miron-micrographs/20200610-ftp/experimentD/Miron_FIB-SEM/Miron_FIB-SEM_processed/Figure_S3B_FIB-SEM_U2OS_20x20x20nm_xy.tif
idr-ingest    | ✅ Downloaded via FTP to /app/data/idr/9846137_20250606_024456.tif
idr-ingest    | ✅ Loaded image with shape: (184, 775, 1121)
idr-ingest    | ✅ Saved volume as /app/data/idr/9846137_20250606_024456.npy
[Kidr-ingest exited with code 0
ebi-ingest    | Downloading files:   0%|          | 0/18 [00:00<?, ?it/s]Downloading files:   6%|▌         | 1/18 [00:00<00:09,  1.79it/s]Downloading files:  11%|█         | 2/18 [00:08<01:14,  4.67s/it]Downloading files:  17%|█▋        | 3/18 [00:11<01:01,  4.13s/it]Downloading files:  22%|██▏       | 4/18 [00:15<00:57,  4.07s/it]Downloading files:  28%|██▊       | 5/18 [00:19<00:51,  3.93s/it]Downloading files:  33%|███▎      | 6/18 [00:22<00:45,  3.81s/it]Downloading files:  39%|███▉      | 7/18 [00:26<00:41,  3.80s/it]Downloading files:  44%|████▍     | 8/18 [00:29<00:36,  3.60s/it]Downloading files:  50%|█████     | 9/18 [00:32<00:30,  3.37s/it]Downloading files:  56%|█████▌    | 10/18 [00:35<00:26,  3.31s/it]Downloading files:  61%|██████    | 11/18 [00:39<00:23,  3.31s/it]Downloading files:  67%|██████▋   | 12/18 [00:42<00:19,  3.21s/it]Downloading files:  72%|███████▏  | 13/18 [00:45<00:16,  3.20s/it]Downloading files:  78%|███████▊  | 14/18 [00:48<00:12,  3.15s/it]Downloading files:  83%|████████▎ | 15/18 [00:51<00:09,  3.05s/it]Downloading files:  89%|████████▉ | 16/18 [00:54<00:06,  3.07s/it]Downloading files:  94%|█████████▍| 17/18 [00:57<00:03,  3.17s/it]Downloading files: 100%|██████████| 18/18 [00:57<00:00,  3.21s/it]
ebi-ingest    | ⏭️ Skipping directory or invalid file: trakem2.1528909664283.981147357.856576865
ebi-ingest    | 📦 Downloaded 17 files
ebi-ingest    | Processing volumes:   0%|          | 0/17 [00:00<?, ?it/s]Processing volumes:  12%|█▏        | 2/17 [00:00<00:06,  2.47it/s]Processing volumes:  18%|█▊        | 3/17 [00:01<00:04,  3.15it/s]Processing volumes:  35%|███▌      | 6/17 [00:01<00:03,  3.52it/s]Processing volumes:  53%|█████▎    | 9/17 [00:01<00:01,  6.07it/s]Processing volumes:  65%|██████▍   | 11/17 [00:02<00:01,  4.48it/s]Processing volumes:  82%|████████▏ | 14/17 [00:03<00:00,  4.66it/s]Processing volumes:  88%|████████▊ | 15/17 [00:03<00:00,  4.73it/s]Processing volumes: 100%|██████████| 17/17 [00:03<00:00,  4.85it/s]
ebi-ingest    | ❌ Failed /app/data/ebi/downloads/F57-8_test1.xml.gz: Unsupported file type: /app/data/ebi/downloads/F57-8_test1.xml.gz
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0001.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0003.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0002.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0000.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0004.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0005.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0006.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0007.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0010.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0008.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0011.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0009.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0012.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0014.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0013.dm3
ebi-ingest    | ✅ Processed /app/data/ebi/downloads/F57-8_test1_3VBSED_slice_0015.dm3
[Kebi-ingest exited with code 0
flyem-ingest  | 2025-06-06 02:44:56 [INFO] Ensured output directory exists: '/app/data/flyem'
flyem-ingest  | 2025-06-06 02:44:56 [INFO] Querying node‐specific info: GET http://hemibrain-dvid.janelia.org/api/node/a89eb3af216a46cdba81204d8f954786/grayscale/info
flyem-ingest  | 2025-06-06 02:44:56 [INFO] Raw /info response:
flyem-ingest  | {
flyem-ingest  |   "Base": {
flyem-ingest  |     "TypeName": "uint8blk",
flyem-ingest  |     "TypeURL": "github.com/janelia-flyem/dvid/datatype/imageblk/uint8.go",
flyem-ingest  |     "TypeVersion": "0.2",
flyem-ingest  |     "DataUUID": "be657e3e00df40f2904282648a330bbc",
flyem-ingest  |     "Name": "grayscale",
flyem-ingest  |     "RepoUUID": "a89eb3af216a46cdba81204d8f954786",
flyem-ingest  |     "Compression": "LZ4 compression, level -1",
flyem-ingest  |     "Checksum": "No checksum",
flyem-ingest  |     "Syncs": [],
flyem-ingest  |     "Versioned": true,
flyem-ingest  |     "KVStore": "google cloud storage, bucket hemibrain-raw-grayscale",
flyem-ingest  |     "LogStore": "no mutation log set",
flyem-ingest  |     "Tags": null
flyem-ingest  |   },
flyem-ingest  |   "Extended": {
flyem-ingest  |     "Values": [
flyem-ingest  |       {
flyem-ingest  |         "DataType": "uint8",
flyem-ingest  |         "Label": "uint8"
flyem-ingest  |       }
flyem-ingest  |     ],
flyem-ingest  |     "Interpolable": true,
flyem-ingest  |     "BlockSize": [
flyem-ingest  |       64,
flyem-ingest  |       64,
flyem-ingest  |       64
flyem-ingest  |     ],
flyem-ingest  |     "VoxelSize": [
flyem-ingest  |       8,
flyem-ingest  |       8,
flyem-ingest  |       8
flyem-ingest  |     ],
flyem-ingest  |     "VoxelUnits": [
flyem-ingest  |       "nanometers",
flyem-ingest  |       "nanometers",
flyem-ingest  |       "nanometers"
flyem-ingest  |     ],
flyem-ingest  |     "MinPoint": [
flyem-ingest  |       0,
flyem-ingest  |       0,
flyem-ingest  |       0
flyem-ingest  |     ],
flyem-ingest  |     "MaxPoint": [
flyem-ingest  |       34431,
flyem-ingest  |       39724,
flyem-ingest  |       41407
flyem-ingest  |     ],
flyem-ingest  |     "MinIndex": [
flyem-ingest  |       0,
flyem-ingest  |       0,
flyem-ingest  |       0
flyem-ingest  |     ],
flyem-ingest  |     "MaxIndex": [
flyem-ingest  |       537,
flyem-ingest  |       620,
flyem-ingest  |       646
flyem-ingest  |     ],
flyem-ingest  |     "Background": 0,
flyem-ingest  |     "GridStore": "",
flyem-ingest  |     "ScaleLevel": 0
flyem-ingest  |   },
flyem-ingest  |   "Extents": {
flyem-ingest  |     "MinPoint": [
flyem-ingest  |       0,
flyem-ingest  |       0,
flyem-ingest  |       0
flyem-ingest  |     ],
flyem-ingest  |     "MaxPoint": [
flyem-ingest  |       34431,
flyem-ingest  |       39724,
flyem-ingest  |       41407
flyem-ingest  |     ]
flyem-ingest  |   }
flyem-ingest  | }
flyem-ingest  | 2025-06-06 02:44:56 [INFO] Found 'Extents.MinPoint' = (0, 0, 0), 'Extents.MaxPoint' = (34431, 39724, 41407)
flyem-ingest  | 2025-06-06 02:44:56 [INFO] 📥 Fetching raw‐grayscale: origin=(854, 31865, 5849), size=(1000, 1000, 1000)
flyem-ingest  | 2025-06-06 02:44:56 [INFO] 📥 DVID GET http://hemibrain-dvid.janelia.org/api/node/a89eb3af216a46cdba81204d8f954786/grayscale/raw/0_1_2/1000_1000_1000/5849_31865_854
flyem-ingest  | 2025-06-06 02:46:02 [INFO] ✅ Saved 3D volume → /app/data/flyem/crop_z854_y31865_x5849_20250606_024456.npy
flyem-ingest  | 2025-06-06 02:46:02 [INFO] ✅ Saved metadata → /app/data/flyem/crop_z854_y31865_x5849_20250606_024456_metadata.json
[Kflyem-ingest exited with code 0
